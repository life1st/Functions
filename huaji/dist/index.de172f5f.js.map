{"mappings":"A,S,E,C,C,C,C,C,C,C,E,O,c,C,E,E,C,I,E,I,E,W,C,E,a,C,C,E,C,I,E,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,CIAe,SAAA,EAAgB,CAAE,EAC/B,IAAI,CAAC,MAAA,CAAS,EACd,IAAI,CAAC,MAAA,CAAS,IACd,IAAI,CAAC,KAAA,CAAQ,KACb,IAAI,CAAC,GAAA,CAAM,IAAI,CAAC,MAAA,CAAO,UAAA,CAAW,MAClC,IAAI,CAAC,eAAA,CAAkB,EAAE,CAEzB,IAAI,CAAC,MAAA,CAAO,gBAAA,CAAiB,QAAS,AAAC,IACrC,QAAQ,GAAA,CAAI,EAAG,uBACf,IAAI,CAAC,eAAA,CAAgB,OAAA,CAAQ,AAAA,GAAM,EAAG,GACxC,EACF,CEXO,SAAS,EAAU,CAAG,CAAE,CAAG,EAEhC,OAAO,KAAK,KAAA,CAAM,KAAK,MAAA,GADX,CAAA,EAAM,EAAM,CAAA,EACkB,EAC5C,CDDe,SAAA,EAAkB,CAAK,EACpC,IAAI,CAAC,GAAA,CAAM,EACX,IAAI,CAAC,QAAA,CAAW,CACd,IAAK,EACL,KAAM,CACR,EACA,IAAI,CAAC,IAAA,CAAO,CACV,MAAO,GACP,OAAQ,EACV,EACA,IAAI,CAAC,IAAA,CAAO,EACZ,IAAI,CAAC,IAAA,CAAO,KAAK,MAAA,GAAW,GAG5B,IAAI,CAAC,MAAA,CAAS,KAAK,MAAA,GAAW,GAAM,EAAI,GACxC,IAAI,CAAC,MAAA,CAAS,KAAK,MAAA,GAAW,GAAM,GAAK,CAC3C,C,M,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,E,Q,C,Q,S,C,C,C,E,E,E,O,C,W,I,E,A,G,E,G,E,E,O,C,U,I,E,A,G,E,GJhBA,IAcA,EACA,EAfI,EAAU,CAAC,EAcf,EAbA,SAAkB,CAAK,EAErB,IAAK,IADD,EAAO,OAA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","sources":["<anon>","node_modules/.pnpm/@parcel+runtime-js@2.9.3_@parcel+core@2.9.3/node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/.pnpm/@parcel+runtime-js@2.9.3_@parcel+core@2.9.3/node_modules/@parcel/runtime-js/lib/runtime-28df5efb6a6fd81c.js","script/main.js","script/canvas.js","script/huaji.js","script/utils.js","node_modules/.pnpm/@parcel+runtime-js@2.9.3_@parcel+core@2.9.3/node_modules/@parcel/runtime-js/lib/runtime-12a14f903dae3a2b.js"],"sourcesContent":["function $parcel$export(e, n, v, s) {\n  Object.defineProperty(e, n, {get: v, set: s, enumerable: true, configurable: true});\n}\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire8dae\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire8dae\"] = parcelRequire;\n}\nparcelRequire.register(\"1Zafa\", function(module, exports) {\n\n$parcel$export(module.exports, \"register\", () => $17236f1e82b576e0$export$6503ec6e8aabbaf, (v) => $17236f1e82b576e0$export$6503ec6e8aabbaf = v);\n$parcel$export(module.exports, \"resolve\", () => $17236f1e82b576e0$export$f7ad0328861e2f03, (v) => $17236f1e82b576e0$export$f7ad0328861e2f03 = v);\nvar $17236f1e82b576e0$export$6503ec6e8aabbaf;\nvar $17236f1e82b576e0$export$f7ad0328861e2f03;\n\"use strict\";\nvar $17236f1e82b576e0$var$mapping = {};\nfunction $17236f1e82b576e0$var$register(pairs) {\n    var keys = Object.keys(pairs);\n    for(var i = 0; i < keys.length; i++)$17236f1e82b576e0$var$mapping[keys[i]] = pairs[keys[i]];\n}\nfunction $17236f1e82b576e0$var$resolve(id) {\n    var resolved = $17236f1e82b576e0$var$mapping[id];\n    if (resolved == null) throw new Error(\"Could not resolve bundle with id \" + id);\n    return resolved;\n}\n$17236f1e82b576e0$export$6503ec6e8aabbaf = $17236f1e82b576e0$var$register;\n$17236f1e82b576e0$export$f7ad0328861e2f03 = $17236f1e82b576e0$var$resolve;\n\n});\n\nvar $102c5a7fa851c983$exports = {};\n\n(parcelRequire(\"1Zafa\")).register(JSON.parse('{\"iq58z\":\"index.de172f5f.js\",\"g88yu\":\"huaji.d06e8a0a.png\"}'));\n\nfunction $90f1e0216d5760cf$export$2e2bcd8739ae039(el) {\n    this.canvas = el;\n    this.height = 900;\n    this.width = 1280;\n    this.ctx = this.canvas.getContext(\"2d\");\n    this.__callback_list = [];\n    this.canvas.addEventListener(\"click\", (e)=>{\n        console.log(e, \"canvas had clicked.\");\n        this.__callback_list.forEach((cb)=>cb(e));\n    });\n}\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.setSize = function(width = 1280, height = 900) {\n    this.canvas.width = width;\n    this.canvas.height = height;\n    this.height = height;\n    this.width = width;\n};\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.clear = function() {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n};\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.drawRect = function(color, left, top, width, height) {\n    this.ctx.fillStyle = color;\n    this.ctx.fillRect(top, left, width, height);\n};\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.drwaImg = function(img, left, top, width, height) {\n    this.ctx.drawImage(img, left, top, width, height);\n};\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.setBackgroundImage = function(img) {\n    const { width: width, height: height } = img;\n    width < this.width || this.height;\n};\n$90f1e0216d5760cf$export$2e2bcd8739ae039.prototype.onClick = function(callback) {\n    if (this.__callback_list.includes(callback)) return;\n};\n\n\nfunction $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85(min, max) {\n    let range = max - min + 1;\n    return Math.floor(Math.random() * range + min);\n}\nfunction $d8e71ffaa0f7fd42$export$ec161d740909e39d() {\n    let params = window.location.search;\n    params = params.slice(1);\n    let arr = params.split(\"&\");\n    let obj = {};\n    for(let i = 0; i < arr.length; i++){\n        let kv = arr[i].split(\"=\");\n        obj[kv[0]] = kv[1];\n    }\n    return obj;\n}\n\n\nfunction $b58efcdb34c750ac$export$2e2bcd8739ae039(image) {\n    this.img = image;\n    this.position = {\n        top: 0,\n        left: 0\n    };\n    this.size = {\n        width: 50,\n        height: 50\n    };\n    this.step = 1;\n    this.zoom = Math.random() > 0.6;\n    // 设置初始速度 emmm...有改进空间\n    this.speedH = Math.random() > 0.6 ? 1 : -1;\n    this.speedW = Math.random() > 0.6 ? -1 : 1;\n}\n$b58efcdb34c750ac$export$2e2bcd8739ae039.prototype.setPosition = function(top, left) {\n    let p = this.position;\n    p.top = top;\n    p.left = left;\n};\n$b58efcdb34c750ac$export$2e2bcd8739ae039.prototype.setSize = function(width, height) {\n    let s = this.size;\n    s.width = width;\n    s.height = height;\n};\n$b58efcdb34c750ac$export$2e2bcd8739ae039.prototype.scale = function(min, max) {\n    if (this.size.width + this.step > max) this.step = -1;\n    else if (this.size.width + this.step < min) this.step = 1;\n    this.setSize(this.size.width + this.step, this.size.height + this.step);\n};\n$b58efcdb34c750ac$export$2e2bcd8739ae039.prototype.getAnimateInfo = function(drawBoard) {\n    let p = Object.assign(this.position);\n    if (p.top < 0) this.speedH = 5 + (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(1, 4);\n    else if (p.top + this.size.height > drawBoard.height) this.speedH = -5 + (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(-4, 1);\n    if (p.left < 0) this.speedW = 5 + (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(1, 4);\n    else if (p.left + this.size.width > drawBoard.width) this.speedW = -5 + (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(-4, -1);\n    p.top += this.speedH;\n    p.left += this.speedW;\n    this.setPosition(p.top, p.left);\n    this.zoom ? this.scale(50, 150) : this.scale(40, 60);\n    return {\n        img: this.img,\n        position: this.position,\n        size: this.size\n    };\n};\n\n\n\nvar $5de60c9c533cb15c$exports = {};\n\n$5de60c9c533cb15c$exports = new URL((parcelRequire(\"1Zafa\")).resolve(\"g88yu\"), import.meta.url).toString();\n\n\nlet $ba322bfe4d533f91$var$el = document.querySelector(\"#huajiWrap\");\nlet $ba322bfe4d533f91$var$canvas = new (0, $90f1e0216d5760cf$export$2e2bcd8739ae039)($ba322bfe4d533f91$var$el);\n$ba322bfe4d533f91$var$canvas.setSize(document.body.clientWidth, document.body.clientHeight);\nlet $ba322bfe4d533f91$var$params = (0, $d8e71ffaa0f7fd42$export$ec161d740909e39d)();\nlet $ba322bfe4d533f91$var$huajiCount = 0;\nconst $ba322bfe4d533f91$var$COUNT = $ba322bfe4d533f91$var$params.count || 300;\nconst $ba322bfe4d533f91$var$huajis = [];\nconst $ba322bfe4d533f91$var$img = new Image();\n$ba322bfe4d533f91$var$img.src = (0, (/*@__PURE__*/$parcel$interopDefault($5de60c9c533cb15c$exports)));\n$ba322bfe4d533f91$var$img.onload = function() {\n    for(let i = 0; i < $ba322bfe4d533f91$var$COUNT; i++)$ba322bfe4d533f91$var$huajis.push(new (0, $b58efcdb34c750ac$export$2e2bcd8739ae039)());\n    $ba322bfe4d533f91$var$huajis.forEach((huaji)=>{\n        huaji.setPosition((0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(0, document.body.clientWidth), (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(0, document.body.clientHeight));\n        let size = (0, $d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85)(20, 300);\n        huaji.setSize(size, size);\n        huaji.img.onload = function() {\n            $ba322bfe4d533f91$var$huajiCount += 1;\n            $ba322bfe4d533f91$var$anima();\n        };\n    });\n};\nfunction $ba322bfe4d533f91$var$anima() {\n    if ($ba322bfe4d533f91$var$huajiCount < $ba322bfe4d533f91$var$COUNT) return;\n    requestAnimationFrame($ba322bfe4d533f91$var$realAnima);\n}\nfunction $ba322bfe4d533f91$var$realAnima() {\n    $ba322bfe4d533f91$var$canvas.clear();\n    $ba322bfe4d533f91$var$huajis.forEach((huaji)=>{\n        const { img: img, position: position, size: size } = huaji.getAnimateInfo($ba322bfe4d533f91$var$canvas);\n        $ba322bfe4d533f91$var$canvas.drwaImg(img, position.left, position.top, size.width, size.height);\n    });\n    requestAnimationFrame($ba322bfe4d533f91$var$realAnima);\n}\n\n\n//# sourceMappingURL=index.de172f5f.js.map\n","\"use strict\";\n\nvar mapping = {};\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\nfunction resolve(id) {\n  var resolved = mapping[id];\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n  return resolved;\n}\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"iq58z\\\":\\\"index.de172f5f.js\\\",\\\"g88yu\\\":\\\"huaji.d06e8a0a.png\\\"}\"));","import CanvasUtil from './canvas'\nimport Huaji from './huaji'\nimport { getParams, randomNum} from \"./utils\";\nimport huajiImg from '../imgs/huaji.png'\n\nlet el = document.querySelector('#huajiWrap')\nlet canvas = new CanvasUtil(el)\ncanvas.setSize(document.body.clientWidth, document.body.clientHeight)\n\nlet params = getParams()\n\nlet huajiCount = 0\nconst COUNT = params.count || 300\n\n\nconst huajis = []\nconst img = new Image()\nimg.src = huajiImg\nimg.onload = function() {\n  for (let i = 0; i < COUNT; i++) {\n    huajis.push(new Huaji())\n  }\n\n  huajis.forEach(huaji => {\n    huaji.setPosition(randomNum(0, document.body.clientWidth)\n      , randomNum(0, document.body.clientHeight))\n    let size = randomNum(20, 300)\n    huaji.setSize(size, size)\n    huaji.img.onload = function() {\n      huajiCount += 1\n      anima()\n    }\n  })\n}\n\nfunction anima() {\n  if (huajiCount < COUNT) return\n  requestAnimationFrame(realAnima)\n}\n\nfunction realAnima() {\n  canvas.clear()\n  huajis.forEach(huaji => {\n    const {img, position, size} = huaji.getAnimateInfo(canvas)\n    canvas.drwaImg(img, position.left, position.top, size.width, size.height)\n  })\n\n  requestAnimationFrame(realAnima)\n}","export default function Canvas(el) {\n  this.canvas = el\n  this.height = 900\n  this.width = 1280\n  this.ctx = this.canvas.getContext('2d')\n  this.__callback_list = []\n\n  this.canvas.addEventListener('click', (e) => {\n    console.log(e, 'canvas had clicked.')\n    this.__callback_list.forEach(cb => cb(e))\n  })\n}\n\nCanvas.prototype.setSize = function(width = 1280, height = 900) {\n  this.canvas.width = width\n  this.canvas.height = height\n  this.height = height\n  this.width = width\n}\n\nCanvas.prototype.clear = function() {\n  this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height)\n}\n\nCanvas.prototype.drawRect = function(color, left, top, width, height) {\n  this.ctx.fillStyle = color\n  this.ctx.fillRect(top, left, width, height)\n}\n\nCanvas.prototype.drwaImg = function(img, left, top, width, height) {\n  this.ctx.drawImage(img, left, top, width, height)\n}\n\nCanvas.prototype.setBackgroundImage = function (img) {\n  const {width, height} = img\n\n  if (width < this.width || height < this.height) {\n\n  }\n\n}\n\nCanvas.prototype.onClick = function (callback) {\n  if (this.__callback_list.includes(callback)) return\n\n\n}","import { randomNum} from \"./utils\";\n\nexport default function Particle(image) {\n  this.img = image\n  this.position = {\n    top: 0,\n    left: 0\n  }\n  this.size = {\n    width: 50,\n    height: 50\n  }\n  this.step = 1\n  this.zoom = Math.random() > 0.6\n\n  // 设置初始速度 emmm...有改进空间\n  this.speedH = Math.random() > 0.6 ? 1 : -1\n  this.speedW = Math.random() > 0.6 ? -1 : 1\n}\n\nParticle.prototype.setPosition = function(top, left) {\n  let p = this.position\n  p.top = top\n  p.left = left\n}\n\nParticle.prototype.setSize = function(width, height) {\n  let s = this.size\n  s.width = width\n  s.height = height\n}\n\nParticle.prototype.scale = function(min, max) {\n  if (this.size.width + this.step > max) {\n    this.step = -1\n  } else if (this.size.width + this.step < min) {\n    this.step = 1\n  }\n  this.setSize(this.size.width + this.step, this.size.height + this.step)\n}\n\nParticle.prototype.getAnimateInfo = function(drawBoard) {\n  let p = Object.assign(this.position)\n  if (p.top < 0) {\n    this.speedH = 5 + randomNum(1, 4)\n  } else if (p.top + this.size.height > drawBoard.height) {\n    this.speedH = -5 + randomNum(-4, 1)\n  }\n  if (p.left < 0) {\n    this.speedW = 5 + randomNum(1, 4)\n  } else if (p.left + this.size.width > drawBoard.width) {\n    this.speedW = -5 + randomNum(-4, -1)\n  }\n  p.top += this.speedH\n  p.left += this.speedW\n  this.setPosition(p.top, p.left)\n  this.zoom\n    ? this.scale(50, 150)\n    : this.scale(40, 60)\n\n  return {\n    img: this.img,\n    position: this.position,\n    size: this.size\n  }\n}\n","export function randomNum(min, max) {\n  let range = max - min + 1\n  return Math.floor(Math.random() * range + min)\n}\n\nexport function getParams() {\n  let params = window.location.search\n  params = params.slice(1)\n  let arr = params.split('&')\n  let obj = {}\n  for (let i = 0; i < arr.length; i++) {\n    let kv = arr[i].split('=')\n    obj[kv[0]] = kv[1]\n  }\n  return obj\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"g88yu\")).toString();"],"names":["$parcel$export","e","n","v","s","Object","defineProperty","get","set","enumerable","configurable","a","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","$90f1e0216d5760cf$export$2e2bcd8739ae039","el","canvas","height","width","ctx","getContext","__callback_list","addEventListener","console","log","forEach","cb","$d8e71ffaa0f7fd42$export$22f4b5ec57ba9a85","min","max","Math","floor","random","$b58efcdb34c750ac$export$2e2bcd8739ae039","image","img","position","top","left","size","step","zoom","speedH","speedW","id","exports","init","module","call","err","Error","code","register","$17236f1e82b576e0$export$6503ec6e8aabbaf","$17236f1e82b576e0$export$f7ad0328861e2f03","$17236f1e82b576e0$var$mapping","pairs","keys","i","length","resolved","JSON","parse","prototype","setSize","clear","clearRect","drawRect","color","fillStyle","fillRect","drwaImg","drawImage","setBackgroundImage","onClick","callback","includes","setPosition","p","scale","getAnimateInfo","drawBoard","assign","$5de60c9c533cb15c$exports","URL","resolve","url","toString","$ba322bfe4d533f91$var$el","document","querySelector","$ba322bfe4d533f91$var$canvas","body","clientWidth","clientHeight","$ba322bfe4d533f91$var$params","params","location","search","arr","slice","split","obj","kv","$ba322bfe4d533f91$var$huajiCount","$ba322bfe4d533f91$var$COUNT","count","$ba322bfe4d533f91$var$huajis","$ba322bfe4d533f91$var$img","Image","$ba322bfe4d533f91$var$realAnima","huaji","requestAnimationFrame","src","__esModule","default","onload","push"],"version":3,"file":"index.de172f5f.js.map"}